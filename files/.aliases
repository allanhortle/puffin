alias softlimit='ulimit -n 2048'

# Git
alias gb='git branch --sort=committerdate'
alias ga='git add -A :/'
alias gf='git fetch -p'
alias gst='git status --short --branch'
gs (){ git stash push -u -m "$1"}
alias gsp='git stash pop'
alias gbmd='gb --merged | rg -v "(\*|master)" | xargs git branch -d'
alias gwhoops='git commit --amend -C HEAD'
gcob () { gco -b "$@" && gp -u origin "$@" }
alias monodiff='git diff --name-only master... | grep "packages" | sed "s/packages\/\([^\/]*\).*/\1/g" | uniq'

function gparent() {
    git show-branch \
        | sed "s/].*//" \
        | grep "\*" \
        | grep -v "$(git rev-parse --abbrev-ref HEAD)" \
        | head -n1 \
        | sed "s/^.*\[//" 
}


# Github
alias prs="gh pr status"
alias prc="gh pr create"
alias prl="gh pr list"



# data
alias album="cat ~/Dropbox/data/albums.md | fzf"
alias valbum="vim ~/Dropbox/data/albums.md"

# Node / npm / Yarn
alias npm_patch_publish='npm version patch && git push --follow-tags && npm publish'
alias npm_minor_publish='npm version minor && git push --follow-tags && npm publish'

root() {
    cd ...
    "$@"
    cd - 
}

# tig
alias t='tig'
alias tst='tig status'

# tmux
alias tmrw='tmux rename-window'
alias tmrs='tmux rename-session'
alias tmn='tmux new'


# zsh
alias zc="$EDITOR ~/.zshrc.local"
alias zr=". ~/.zshrc"


# Misc
alias k='kill -9'
alias emptytrash="sudo rm -rfv /Volumes/*/.Trashes; sudo rm -rfv ~/.Trash; sudo rm -rfv /private/var/log/asl/*.asl"
alias chrometabkill="ps ux | grep '[C]hrome Helper --type=renderer' | grep -v extension-process | tr -s ' ' | cut -d ' ' -f2 | xargs kill"

